# vim: ft=python
import glob
import pandas as pd

configfile: 'typeseq_config.yaml'
workdir: os.environ['PWD']
shell.executable('bash')



rule report_all:
    input: Probably some pdf or html file



rule create_report:
    input:
        "variants_final_table.csv",
        "args_df", 
        "typing_manifest.csv",
        "control_for_report",
        "samples_only_for_report",
        "detailed_pn_matrix_report",
        "read_count_matrix_report",
        "pn_filters_report",
        "control_defs",
        "lineage_for_report"
           
    output:
        "{wildcards}.pdf" #Use the wildcard to bring in project IDs here like CVT or IARC from manifest
    
    shell:
       " Rscript R/render_report.R " # Modify this to accept input from command line

rule zip_outputs:
    input: 
         output.create_report
    output:
         "TypeSeq2_outputs.zip"    
    shell:
         "zip -j {output} {input}"









#
#
#


